<div class="p-4">
  <!-- Filtros -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
    <!-- Filtro por deporte -->
    <div class="flex flex-col">
      <label for="sport-autocomplete" class="text-sm font-medium text-gray-700 mb-1">Deporte</label>
      <p-autoComplete
        id="sport-autocomplete"
        [(ngModel)]="selectedSport"
        [suggestions]="sportSuggestions"
        (completeMethod)="filterSports($event)"
        (ngModelChange)="onSportModelChange($event)"
        (onClear)="onSportClear()"
        [dropdown]="true"
        [showClear]="true"
        placeholder="Escribe o selecciona deporte..."
        [forceSelection]="false"
        class="w-full">
      </p-autoComplete>
    </div>

    <!-- Filtro por ubicación -->
    <div class="flex flex-col">
      <label for="location-autocomplete" class="text-sm font-medium text-gray-700 mb-1">Ubicación</label>
      <p-autoComplete
        id="location-autocomplete"
        [(ngModel)]="selectedLocation"
        [suggestions]="locationSuggestions"
        (completeMethod)="filterLocations($event)"
        (ngModelChange)="onLocationModelChange($event)"
        (onClear)="onLocationClear()"
        [dropdown]="true"
        [showClear]="true"
        placeholder="Escribe o selecciona ubicación..."
        [forceSelection]="false"
        class="w-full">
      </p-autoComplete>
    </div>

    <!-- Filtro por fecha -->
    <div class="flex flex-col">
      <label for="date-picker" class="text-sm font-medium text-gray-700 mb-1">Fecha</label>
      <p-date-picker
        id="date-picker"
        [(ngModel)]="selectedDate"
        (ngModelChange)="onDateChange($event)"
        (onSelect)="onDateSelect($event)"
        (onInput)="onDateInput($event)"
        (onClearClick)="onDateClear()"
        (onBlur)="onDateBlur($event)"
        placeholder="Escribe fecha: 15, 15/08, 15/08/2024"
        [showClear]="true"
        [showIcon]="true"
        dateFormat="dd/mm/yy"
        [keepInvalid]="true"
        [firstDayOfWeek]="1"
        [showButtonBar]="true"
        class="w-full">
      </p-date-picker>
      <small class="text-gray-400 text-xs mt-1">
        Escribe para filtro parcial o selecciona del calendario
      </small>
    </div>
  </div>

  <!-- Contador de resultados -->
  <div class="mb-4 text-gray-600">
    Mostrando {{ filteredCourts.length }} de {{ courts.length }} pistas
  </div>

  <!-- Lista de pistas -->
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
    <p-card
      *ngFor="let court of filteredCourts"
      [header]="court.name"
      [subheader]="court.sport"
      class="shadow-lg transition-all duration-300 hover:shadow-xl">
      <img
        [src]="court.image"
        [alt]="court.name"
        class="w-full h-48 object-cover mb-2 rounded" />
      <div class="text-gray-700 font-medium">{{ court.location }}</div>
      <div class="text-gray-500 text-sm mt-1">
        Disponible: {{ court.availableDate }}
      </div>
    </p-card>
  </div>

  <!-- Mensaje cuando no hay resultados -->
  <div *ngIf="filteredCourts.length === 0" class="text-center py-8 text-gray-500">
    <div class="text-lg font-medium mb-2">No se encontraron pistas</div>
    <div class="text-sm">Prueba con otros criterios de búsqueda</div>
  </div>
</div>